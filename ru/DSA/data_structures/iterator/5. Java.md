# Итератор в Java

Итератор представлен интерфейсом `Iterator<T>`, содержащим следующие методы:

```java
boolean hasNext(); // checks if next exists

T next(); // advance iterator and returns element

T remove(); // (optional) removes and returns last iterated value
```

Обратите внимание, что в Java итератор изначально стоит на позиции "перед первым".

# Последовательности в Java

Последовательности представлены интерфейсом `Iterable<T>`, содержащим следующий метод:

```java
Iterator<T> iterator();
```

## Принцип использования

Частый сценарий использования итератора выглядит примерно так:

```java
for (var it = sequence.iterator(); it.hasNext(); ) {
  T value = it.next();
  // process value
}
```

### Foreach

В Java `for-each` реализован в формате

```java
for (T value : sequence) {
  // process value
}
```

### ConcurrentModificationException

При попытке изменить структуру последовательности в процессе обхода итератором (кроме допустимых случаев использования `remove`) будет выброшено соответствующее исключение.

# Streams

Начиная с Java 8 в Java наравне с `Iterable` и `Iterator` появилась возможность обработки последовательностей через функциональный интерфейс `Stream`.

`Stream` предоставляет широкий набор функций для обработки последовательности, например:

- `map` - преобразование каждого элемента последовательности, возвращает `Stream`;
- `filter` - фильтрация данных по заданному условию, возвращает `Stream`;
- `reduce` - аккумулирует единое значение по набору данных и заданной бинарной операции, возвращает результат (аналог `std::accumulate` в С++);
- `forEach` - выполняет заданное действие для каждого элемента, ничего не возвращает (наиболее близко к работе с `Iterator`);
- `toArray`, `toList`, `toMap` и т.д. - переход от `Stream` к заданной структуре данных.